syntax = "proto3";

package absrnd_mvp.balance.mainapp;

message BalanceRequest {
  string account_number = 1;
  repeated string balance_type_list = 2;
}

message Balance {
  string account_number = 1;
  string balance_type = 2;
  string amount_currency = 3;
}

message BalanceResponse {
  repeated Balance remains = 1;
  BalanceStatus balance_status = 2;
  optional string description = 3;
}

service BalanceService {
  rpc Get(BalanceRequest) returns(BalanceResponse) {}
}

// Статус выполнения получения баланса
// Положительные статусы в диапозоне от 0 до 999
// Системная ошибка в диапозоне от 1000 до 1999
// Ошибка бизнес-логики от 2000 до 2999
enum BalanceStatus {
  BALANCE_STATUS_SUCCESS = 0;
  BALANCE_STATUS_SYSTEM_ERROR = 1000;
  BALANCE_STATUS_NO_ACCOUNT = 2000;
  BALANCE_STATUS_TYPE_NOT_EXISTS = 2001;
}

