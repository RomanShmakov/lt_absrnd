syntax = "proto3";

package absrnd_mvp.getting.customers;

import "google/protobuf/timestamp.proto";


message CustomerRequest {
  string customer_id = 1;
}

message Customer {
  string customer_id = 1;
  string type = 2;
  string category = 3;
  string name = 4;
  google.protobuf.Timestamp open_date = 5;
  optional google.protobuf.Timestamp close_date = 6;
  string resdnt = 7;
  optional string inn = 8;
}

message CustomerResponse {
  Customer customer = 1;
  ResultStatus customer_status = 2;
  optional string error = 3;
}

service CustomerService {
  rpc Get(CustomerRequest) returns(CustomerResponse) {}
}

// Статус выполнения получения баланса
// Положительные статусы в диапозоне от 0 до 999
// Системная ошибка в диапозоне от 1000 до 1999
// Ошибка бизнес-логики от 2000 до 2999
enum ResultStatus {
  RESULT_STATUS_SUCCESS = 0;
  RESULT_STATUS_SYSTEM_ERROR = 1000;
  RESULT_STATUS_MISSING_CUSTOMER_ID = 2000;
  RESULT_STATUS_INVALID_CUSTOMER_ID_FORMAT = 2001;
  RESULT_STATUS_CUSTOMER_NOT_FOUND = 2002;
}